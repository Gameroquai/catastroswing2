/* CREACION TABLA POBLACION */
DROP TABLE POBLACION cascade constraints;
CREATE TABLE POBLACION(
Nombre CHAR(10) PRIMARY KEY,
Habitantes Number(7),
Provincia CHAR(7));

INSERT INTO POBLACION VALUES('Parauta',500,'MALAGA');
INSERT INTO POBLACION VALUES('Cartajima',600,'MALAGA');
INSERT INTO POBLACION VALUES('Juzcar',300,'MALAGA');
INSERT INTO POBLACION VALUES('Setenil',1500,'CADIZ');
INSERT INTO POBLACION VALUES('Utrera',3500,'SEVILLA'); 


/* CREACION TABLA ALOJAMIENTO */
DROP TABLE ALOJAMIENTO cascade constraints;
CREATE TABLE ALOJAMIENTO(
Nombre_Aloja CHAR(16) PRIMARY KEY,
Direccion CHAR(15),
Nombre_Poblacion CHAR(10) NOT NULL,
Telefono VARCHAR2(9),
Contacto VARCHAR2(3) NOT NULL ,
Numero_Habitaciones INTEGER,
 CONSTRAINT FK_ALOJ_POB FOREIGN KEY(Nombre_Poblacion) REFERENCES POBLACION);

INSERT INTO ALOJAMIENTO VALUES('Villa Aurora','La Bola, 10','Parauta','667898876','VA1',3);
INSERT INTO ALOJAMIENTO VALUES('Las Rozas','Azucares, 12','Cartajima','667898876','RA1',5);
INSERT INTO ALOJAMIENTO VALUES('Casa Bernarda','El Pinsapar, 2','Cartajima','667898876','CB1',4);
INSERT INTO ALOJAMIENTO VALUES('Casa Isabel','Los atunes, 6','Juzcar','667898876','CI1',6);
INSERT INTO ALOJAMIENTO VALUES('Casa del arriero','Genal, 3','Setenil','667898876','CA1',4);
INSERT INTO ALOJAMIENTO VALUES('Villa chica','Pisuerga, 32','Utrera','667898876','VC1',2);



/* CREACION TABLA PERSONAL */
DROP TABLE PERSONAL cascade constraints;
CREATE TABLE PERSONAL(
Codigo_Per  VARCHAR2(3) PRIMARY KEY,
Nombre_Per  VARCHAR2(25) NOT NULL,
Direccion VARCHAR2(35) NOT NULL,
Nombre_Poblacion CHAR(10) NOT NULL,
NIF  VARCHAR2(10) NOT NULL,
CONSTRAINT FK_PERS_POB FOREIGN KEY(Nombre_Poblacion) REFERENCES POBLACION);


INSERT INTO PERSONAL VALUES('VC1','Sanchez Lopez Antonio','Espinel, 1','Parauta','22222222-A');
INSERT INTO PERSONAL VALUES('CA1','Sanchez Lopez Juan','Espinel, 1','Parauta','33333333-A');
INSERT INTO PERSONAL VALUES('CI1','Sanchez Perez Ana','Naranja, 14','Cartajima','44444444-A');
INSERT INTO PERSONAL VALUES('CB1','Perez Sanchez Luisa','Espinel, 15','Parauta','55555555-A');
INSERT INTO PERSONAL VALUES('LR1','Sanchez Linares Antonio','Lauria, 16','Utrera','66666666-A');
INSERT INTO PERSONAL VALUES('VA1','Lopez Lopez Antonio','Pinsapar, 15','Parauta','77777777-A');

/* CREACION TABLA HABITACION */
DROP TABLE HABITACION cascade constraints;
CREATE TABLE HABITACION(
Nombre_Aloja  CHAR(16),
N_Habita NUMBER(1),
Tipo CHAR(11),
Aseo VARCHAR2(2) ,
Precio Number(3),
CONSTRAINT PK_HAB  PRIMARY KEY(Nombre_Aloja, N_Habita));


INSERT INTO HABITACION VALUES('Villa chica',1,'Doble','SI',50);
INSERT INTO HABITACION VALUES('Villa chica',2,'Doble','SI',50);
INSERT INTO HABITACION VALUES('Casa del arriero',1,'Doble','SI',50);
INSERT INTO HABITACION VALUES('Casa del arriero',2,'Doble','SI',50);
INSERT INTO HABITACION VALUES('Casa del arriero',3,'Individual','SI',30);
INSERT INTO HABITACION VALUES('Casa del arriero',4,'Individual','NO',20);
INSERT INTO HABITACION VALUES('Casa Isabel',1,'Doble','SI',60);
INSERT INTO HABITACION VALUES('Casa Isabel',2,'Doble','SI',60);
INSERT INTO HABITACION VALUES('Casa Isabel',3,'Individual','SI',30);
INSERT INTO HABITACION VALUES('Casa Isabel',4,'Individual','SI',30);
INSERT INTO HABITACION VALUES('Casa Isabel',5,'Individual','SI',30);
INSERT INTO HABITACION VALUES('Casa Isabel',6,'Individual','NO',15);
INSERT INTO HABITACION VALUES('Casa Bernarda',1,'Doble','SI',50);
INSERT INTO HABITACION VALUES('Casa Bernarda',2,'Doble','SI',50);
INSERT INTO HABITACION VALUES('Casa Bernarda',3,'Individual','SI',40);
INSERT INTO HABITACION VALUES('Casa Bernarda',4,'Individual','NO',25);
INSERT INTO HABITACION VALUES('Las Rozas',1,'Doble','SI',50);
INSERT INTO HABITACION VALUES('Las Rozas',2,'Doble','SI',50);
INSERT INTO HABITACION VALUES('Las Rozas',3,'Individual','SI',30);
INSERT INTO HABITACION VALUES('Las Rozas',4,'Individual','NO',20);
INSERT INTO HABITACION VALUES('Las Rozas',5,'Individual','NO',20);
INSERT INTO HABITACION VALUES('Villa Aurora',1,'Doble','SI',60);
INSERT INTO HABITACION VALUES('Villa Aurora',2,'Doble','SI',60);
INSERT INTO HABITACION VALUES('Villa Aurora',3,'Individual','SI',30);





/* CREACION TABLA ACTIVIDAD */
DROP TABLE ACTIVIDAD cascade constraints;
CREATE TABLE ACTIVIDAD(
Codigo_Activ VARCHAR2(3) PRIMARY KEY,
Nombre_Activ  CHAR(22) NOT NULL,
Descripcion CHAR(30) NOT NULL,
Nivel Number(2) NOT NULL);

INSERT INTO ACTIVIDAD VALUES('BM1','Bicicleta Montaña','Salidas en bici por carriles',3);
INSERT INTO ACTIVIDAD VALUES('SN1','Senderismo','Caminar por llano',1);
INSERT INTO ACTIVIDAD VALUES('SN2','Senderismo avanzado','Caminar por monte',4);
INSERT INTO ACTIVIDAD VALUES('RP1','Descenso iniciación','Descenso suave',3);
INSERT INTO ACTIVIDAD VALUES('BM2','Descenso avanzado','Descenso de cañones',10);


/*  CREACION TABLA REALIZA_ACTIVIDAD */
DROP TABLE REALIZA_ACTIVIDAD cascade constraints;
CREATE TABLE REALIZA_ACTIVIDAD(
Codigo_Activ VARCHAR2(3) ,
Nombre_Aloja  CHAR(16),
Dia_Semana VARCHAR2(10),
CONSTRAINT PK_REALIZA PRIMARY KEY(Codigo_Activ, Nombre_Aloja,Dia_Semana),
CONSTRAINT FK_REALIZA_ALO FOREIGN KEY(Nombre_Aloja) REFERENCES ALOJAMIENTO,
CONSTRAINT FK_REALIZA_ACT FOREIGN KEY(Codigo_Activ) REFERENCES ACTIVIDAD
);

INSERT INTO REALIZA_ACTIVIDAD VALUES ('SN1','Villa Aurora','martes');
INSERT INTO REALIZA_ACTIVIDAD VALUES ('SN1','Villa chica','martes');
INSERT INTO REALIZA_ACTIVIDAD VALUES ('SN1','Las Rozas','martes');
INSERT INTO REALIZA_ACTIVIDAD VALUES ('SN1','Casa Bernarda','jueves');
INSERT INTO REALIZA_ACTIVIDAD VALUES ('SN2','Villa Aurora','martes');
INSERT INTO REALIZA_ACTIVIDAD VALUES ('RP1','Casa Isabel','lunes');
INSERT INTO REALIZA_ACTIVIDAD VALUES ('BM1','Casa Isabel','lunes');
INSERT INTO REALIZA_ACTIVIDAD VALUES ('SN1','Casa Isabel','lunes');
INSERT INTO REALIZA_ACTIVIDAD VALUES ('SN2','Casa Isabel','lunes');
INSERT INTO REALIZA_ACTIVIDAD VALUES ('RP1','Casa del arriero','lunes');

Commit;